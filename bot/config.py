"""
config.py
전략 파라미터 및 시스템 설정
"""

# ============================================================================
# DB 설정
# ============================================================================
DB_CONFIG = {
    'user': 'root',
    'password': '1234',
    'host': 'localhost',
    'port': 3306,
    'database': 'stock',
    'charset': 'utf8'
}

# ============================================================================
# 전략 파라미터 (백테스트 검증된 최적값)
# ============================================================================
STRATEGY_PARAMS = {
    # 핵심 파라미터
    'k': 0.6,                    # trigger 계수
    'top_n': 3,                  # 선발 종목 수
    'hold_days': 3,              # 최대 보유일
    'sma_buffer': 0.98,          # 손절 여유 (2%)
    
    # 모멘텀 가중치
    'momentum_weight_12w': 0.7,  # 12주 모멘텀 가중치
    'momentum_weight_26w': 0.3,  # 26주 모멘텀 가중치
}

# ============================================================================
# ETF 유니버스 (12개 종목)
# ============================================================================
ETF_UNIVERSE = {
    '091160': {'name': 'KODEX 반도체', 'start': '2006-06-27'},
    '395160': {'name': 'KODEX AI반도체', 'start': '2021-07-30'},
    '305720': {'name': 'KODEX 2차전지산업', 'start': '2018-09-12'},
    '449450': {'name': 'PLUS K방산', 'start': '2023-01-05'},
    '329200': {'name': 'TIGER 리츠부동산인프라', 'start': '2019-07-19'},
    '494670': {'name': 'TIGER 조선TOP10', 'start': '2024-10-22'},
    '445290': {'name': 'KODEX 로봇액티브', 'start': '2022-11-15'},
    '139260': {'name': 'TIGER 200 IT', 'start': '2011-04-06'},
    '091180': {'name': 'KODEX 자동차', 'start': '2006-06-27'},
    '091170': {'name': 'KODEX 은행', 'start': '2006-06-27'},
    '102970': {'name': 'KODEX 증권', 'start': '2008-05-29'},
    '244580': {'name': 'KODEX 바이오', 'start': '2016-05-13'},
}

# ============================================================================
# 거래 설정
# ============================================================================
TRADING_CONFIG = {
    # 거래 시간
    'market_open': '09:00:00',      # 장 시작
    'market_close': '15:20:00',     # 장 마감
    'check_interval': 60,            # 체크 주기 (초)
    
    # 주문 설정
    'order_type': '00',              # 지정가
    'hoga_type': '00',               # 보통
    
    # 안전 설정
    'max_retry': 3,                  # 최대 재시도 횟수
    'retry_delay': 5,                # 재시도 대기 시간 (초)
    'order_delay': 1,                # 주문 간 대기 시간 (초)
}

# ============================================================================
# 로깅 설정
# ============================================================================
LOGGING_CONFIG = {
    'log_dir': './logs',
    'log_level': 'INFO',
    'log_format': '%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    'log_file': 'etf_trading.log'
}

# ============================================================================
# 알림 설정 (선택사항)
# ============================================================================
NOTIFICATION_CONFIG = {
    'enabled': False,
    'telegram_token': '',
    'telegram_chat_id': ''
}
# config.py에 추가

# ============================================================================
# 키움 계좌 설정
# ============================================================================
# KIWOOM_CONFIG = {
#     'account_password': '6,  # 계좌 비밀번호 (4자리)
#     'save_password': True,   
# }


# config.py 맨 아래에 추가

# ============================================================================
# 투자 금액 설정
# ============================================================================
INVESTMENT_CONFIG = {
    # 방법 선택 (하나만 사용)
    
    # 방법 1: 비율 사용 (권장)
    'use_ratio': 0.6,           # 예수금의 80%만 사용
    
    # 방법 2: 고정 금액 (아래 주석 해제)
    # 'use_fixed': True,
    # 'fixed_amount': 1000000,
    
    # 방법 3: 종목당 금액 (아래 주석 해제)
    # 'per_stock_amount': 300000,
    
    # 안전 장치
    'min_cash_reserve': 100000,  # 최소 10만원 보유
    'max_investment': 600000,   # 최대 만원 투자
}
